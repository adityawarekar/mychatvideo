{% extends 'base/main.html' %}
{% load static %}
{% block content %}

<div id="room-header">
    <div id="room-name">Room: {{ room.room_name }}</div>
</div>

{% if is_host %}
    <p>ğŸ‘‘ You are the host</p>
    <button>Mute All</button>
    <button>End Call</button>
{% else %}
    <p>Participant</p>
{% endif %}

<div id="video-streams"></div>

<div id="controls">
    <button id="mic-btn">ğŸ¤</button>
    <button id="speaker-btn">ğŸ”Š</button>
    <button id="camera-btn">ğŸ“¹</button>
    <button id="leave-btn">âŒ</button>
</div>

<script src="{% static 'assets/AgoraRTC_N-4.24.2.js' %}"></script>
<script src="{% static 'js/streams.js' %}"></script>

<script>
window.addEventListener("beforeunload", () => {
    fetch("/accounts/logout/");
});
</script>

{% endblock %}
